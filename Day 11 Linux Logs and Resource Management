

-----------------------------------------------------------------------------------------------------------------------------------
									System Logging & Logs Management in Linux | Managing Logs in RHEL
-----------------------------------------------------------------------------------------------------------------------------------
Linux system admin ko logs file read kara or konsi file kis purpose k liye hai aana zarori hai Q k Logs ki madad se wo 
troubleshoting krta.
System per run hone wali application different type k messages generate krti hain ,jo k system pr log file ki suratt m store hoty hain,Linux system per pehly se ye sb define hota hai k konsa log kahan per store hota hoga,

Checking the DEfault Log file Location
ls -l /var/log

who
last
last reboot
lastlog

Using the rsyslog Daemon
rsyslog hi wo deamon service hai jo responsible hoti hai, log message ko listening krne m, or unhn store krne m k konsa perticural losg system m kis location per store krna hai, is ki madad se hum logs ko kesi dosry system per b forward kr dty hain.

cat /etc/rsyslog.conf

The rsyslog Configuration File
rsyslog deamon configuration related information rsyslog.conf file se leta hai jo /etc/ dirctory m hoti hai
rsyslod.conf file rsyslog deamon ko batati hai k log message ko kahan per store krna hai, YE instruction 2 part m batai jati hai
rsyslog.conf file m  jesy space se seprate kiya jata hai

ye file kuch is tarhan  rsyslog.d/50-default.conf  dekhne ko milskti hai 
instruction k two part SELECTOR or ACTION se banti hain
SELECTOR part main hum ye bataty hai log message ka source kiya hia, or is ki importance kia hai
SELECTOR  khud b  2 part m divide hota hai jesy . ki madad se seprate kiya jata hai
. se pehly part ko FACILITY ( ya Origine of messge ) kehty hain or dot . k bad waly part ko PRIORITY 
YEhi dono part FACILITY/PRIORITY mil kar kr rsyslog deamon ko bataty hain k Kia krna hai jab LOG message genetaed hoga,


cat /etc/rsyslog.conf



auth or authpriv: jo Messages  authorization and security related events se generate ho
kern: Any message coming from the Linux kernel
mail: Messages generated by the mail subsystem
cron: Cron daemon related messages
daemon: Messages coming from daemons
news: Messages coming from network news subsystem
lpr: Printing related log messages
user: Log messages coming from user programs
local0 to local7: Reserved for local use
And here is a list of priorities in ascending order:

debug: Debug information from programs
info: Simple informational message - no intervention is required
notice: Condition that may require attention
warn: Warning
err: Error
crit: Critical condition
alert: Condition that needs immediate intervention
emerg: Emergency condition



So now let’s consider the following line from the file:

Output
…
# Log cron stuff
cron.*                                                  /var/log/cron
…


 YE rsyslog deamon ko all message ko save krna ka keh rah hai jo b CRON service generate kr rhi hai 
 DOT k bad star ka matlab hai store kry har tarhan ki priorities k log ko.
 agr hum * k jaga ko facility ko mention kr dty hain wo just us k log messages ko store kry ga.

mail.warn			/var/log/mail.warn 
ab ye har message ko store kry ga jo warn priority k barbar hoga ya greater hoga.

mail.=info			/var/log/mail.info
arg hum . k abd = sighn use krty hai or phir specify krty hain prority ko tu ye just usi log messge ko store kry ga

Step 4 - Creating and Testing Your Own Log Messages



vi /etc/rsyslog.conf
# New lines added for testing log message generation  
	   
local4.crit                                             /var/log/local4crit.log  
local4.=info                                            /var/log/local4info.log 


systemctl restart rsyslog

logger -p local4.info " This is a info message from local 4"
cat /var/log/local4info.log


Step 5 - Rotating Log Files


cat /etc/logrotate.conf
cat /etc/logrotate.conf
-----------------------------------------------------------------------------------------------------------------------------------
									Resource Monitoring, Management & Troubleshooting in Linux 
-----------------------------------------------------------------------------------------------------------------------------------
top
top p idnmber
free is use for m,emory 
free
free -m
free -g
free -s 3
watch -d -n 5 free

input output stat ko dekhne k liye istamal hoti hai 
iostat
yum install sysstat
iostat
iostat -d 2 8

cpus ki details k liye
mpstat
mpstat -P ALL

System activity information
sar 2 3
sar 5 5 


nmon use in debina
htop
ztop
btop

Open file ko list krne k liye use kty hain 
lsof
isof | head
isof | tail 

agr ap process id k sth sdekhna hai  
isof -p 1
isof -p processID
ps -C bash 
isof -p processID


Agr ap ye dekhna chhaty hain k kesi perticualar service k duwara konsa Port kiya ja rha hai 

lsof -i :80
isof -i :22


Agr ap unfile ko dekhna chahty hain kosi file  kesi partaion per open hain 
sdb1
create a dir 
create file 

lsof /test/
lsof /var/log/*

lsof -u zybi 


File system user
fuser
fuser /test/
fuser -m -u /test/
kill process related filesystem 
jobs
fuser -m -k -u /test/

Agr ap dekhn chahty hain sari process ko jo kesi b filesystem se assosiated hn 
cd .test
vim test.t
crl+z
fuser -v /test/
